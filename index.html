<script>
  const noBtn = document.getElementById("no");
  const yesBtn = document.getElementById("yes");
  const loveMessage = document.getElementById("loveMessage");

  let scale = 1;
  let textIndex = 0;
  let raining = false;

  const noTexts = [
    "No ðŸ’”",
    "Are you sure? ðŸ˜³",
    "Think againâ€¦ ðŸ¤”",
    "Please ðŸ¥º",
    "Donâ€™t do this ðŸ˜­",
    "Okay fine ðŸ˜µ"
  ];

  function moveNoButton() {
    const x = Math.random() * (window.innerWidth - 120);
    const y = Math.random() * (window.innerHeight - 60);
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";

    scale -= 0.08;
    if (scale < 0.4) scale = 0.4;
    noBtn.style.transform = `scale(${scale})`;

    if (textIndex < noTexts.length - 1) {
      textIndex++;
      noBtn.innerText = noTexts[textIndex];
    }
  }

  // ðŸ’» PC
  noBtn.addEventListener("mouseover", moveNoButton);

  // ðŸ“± MOBILE
  noBtn.addEventListener("touchstart", (e) => {
    e.preventDefault(); // cháº·n báº¥m trÃºng
    moveNoButton();
  });

  noBtn.addEventListener("click", (e) => {
    e.preventDefault();
    moveNoButton();
  });

  yesBtn.addEventListener("click", () => {
    loveMessage.innerHTML =
      "Yayyyy ðŸ¥°ðŸ’˜<br>You are officially my Valentine ðŸ’ž";
    noBtn.style.display = "none";
    yesBtn.style.transform = "scale(1.3)";
    startHeartRain();
  });

  function startHeartRain() {
    if (raining) return;
    raining = true;

    setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.innerText = "ðŸ’–";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = Math.random() * 2 + 3 + "s";
      document.body.appendChild(heart);

      setTimeout(() => heart.remove(), 5000);
    }, 200);
  }
</script>
